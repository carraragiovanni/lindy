const canvas = document.getElementById('pongCanvas'); const ctx = canvas.getContext('2d'); canvas.width = 800; canvas.height = 400; const paddleHeight = 80; const paddleWidth = 10; const ballSize = 10; let leftPaddle = {y: canvas.height/2 - paddleHeight/2, speed: 4}; let rightPaddle = {y: canvas.height/2 - paddleHeight/2, speed: 4}; let ball = {x: canvas.width/2, y: canvas.height/2, speedX: 5, speedY: 3}; function drawRect(x, y, width, height) { ctx.fillStyle = 'white'; ctx.fillRect(x, y, width, height); } function update() { ball.x += ball.speedX; ball.y += ball.speedY; if(ball.y <= 0 || ball.y >= canvas.height) ball.speedY *= -1; if(ball.x <= paddleWidth && ball.y >= leftPaddle.y && ball.y <= leftPaddle.y + paddleHeight || ball.x >= canvas.width - paddleWidth - ballSize && ball.y >= rightPaddle.y && ball.y <= rightPaddle.y + paddleHeight) { ball.speedX *= -1; } if(ball.x < 0 || ball.x > canvas.width) { ball.x = canvas.width/2; ball.y = canvas.height/2; } leftPaddle.y += (ball.y - (leftPaddle.y + paddleHeight/2)) * 0.1; rightPaddle.y += (ball.y - (rightPaddle.y + paddleHeight/2)) * 0.1; leftPaddle.y = Math.max(0, Math.min(canvas.height - paddleHeight, leftPaddle.y)); rightPaddle.y = Math.max(0, Math.min(canvas.height - paddleHeight, rightPaddle.y)); ctx.clearRect(0, 0, canvas.width, canvas.height); drawRect(0, leftPaddle.y, paddleWidth, paddleHeight); drawRect(canvas.width - paddleWidth, rightPaddle.y, paddleWidth, paddleHeight); drawRect(ball.x, ball.y, ballSize, ballSize); requestAnimationFrame(update); } update();